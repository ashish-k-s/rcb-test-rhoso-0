<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Verify data plane deployment :: RHOSP18 - Provision Control Plane Services and Manage Data Plane Nodes</title>
    <link rel="prev" href="troubleshoot-the-data-plane-deployment.html">
    <link rel="next" href="../access-openstack/access-openstack.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">RHOSP18 - Provision Control Plane Services and Manage Data Plane Nodes</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/REPLACEREPONAME/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="rcb-test-rhoso-0" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">RHOSP18 - Provision Control Plane Services and Manage Data Plane Nodes</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../LABENV/index.html">Lab Environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../introduction/introduction.html">Introduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/traditional-tripleo-deployment-versus-deployment-with-openshift-cluster.html">Traditional TripleO deployment versus deployment with OpenShift cluster.</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction/rhoso-installation-process-overview.html">RHOSO installation process overview</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../prerequisites-for-installation/prerequisites-for-installation.html">Prerequisites for Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../prerequisites-for-installation/about-the-prerequisite-operators.html">About the Prerequisite Operators</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../prerequisites-for-installation/install-nmstate-operator.html">Install NMState Operator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../prerequisites-for-installation/install-metallb-operator.html">Install MetalLB Operator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../prerequisites-for-installation/install-cert-manager-operator.html">Install Cert-Manager Operator</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../preparing-rhocp-for-rhosp-network-isolation/preparing-rhocp-for-rhosp-network-isolation.html">Preparing RHOCP for RHOSP Network Isolation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../preparing-rhocp-for-rhosp-network-isolation/setting-up-node-network-configuration-policy.html">Setting up Node Network Configuration Policy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../preparing-rhocp-for-rhosp-network-isolation/configuring-network-attachment-definition.html">Configuring Network Attachment Definition</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../preparing-rhocp-for-rhosp-network-isolation/configure-metallb-ip-address-pools.html">Configure MetalLB IP Address Pools</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../preparing-rhocp-for-rhosp-network-isolation/setup-metallb-l2-advertisement-configuration.html">Setup MetalLB L2 Advertisement configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../storage/storage.html">Storage</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../storage/configuring-nfs-storage.html">Configuring NFS storage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../storage/verify-storage-configuration.html">Verify storage configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../install-control-plane/install-control-plane.html">Install control plane</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../install-control-plane/configure-the-secrets.html">Configure the secrets</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../install-control-plane/install-the-openstack-operator.html">Install the OpenStack Operator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../install-control-plane/create-the-openstack-control-plane.html">Create the OpenStack Control Plane</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../install-control-plane/troubleshoot-the-openstack-control-plane.html">Troubleshoot the OpenStack Control Plane</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../install-control-plane/verify-openstack-control-plane-configuration.html">Verify OpenStack control plane configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="create-data-plane.html">Create data plane</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="create-the-data-plane-network-configuration.html">Create the Data Plane Network configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="create-the-data-plane-vm.html">Create the Data Plane VM</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="data-plane-deployment.html">Data Plane Deployment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="troubleshoot-the-data-plane-deployment.html">Troubleshoot the Data Plane deployment</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="verify-data-plane-deployment.html">Verify data plane deployment</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../access-openstack/access-openstack.html">Access OpenStack</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../access-openstack/steps-to-access-openstack.html">Steps to Access OpenStack</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendix/appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">RHOSP18 - Provision Control Plane Services and Manage Data Plane Nodes</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">RHOSP18 - Provision Control Plane Services and Manage Data Plane Nodes</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">RHOSP18 - Provision Control Plane Services and Manage Data Plane Nodes</a></li>
    <li><a href="create-data-plane.html">Create data plane</a></li>
    <li><a href="verify-data-plane-deployment.html">Verify data plane deployment</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Verify data plane deployment</h1>
<div class="sect1">
<h2 id="_verify_data_plane_deployment"><a class="anchor" href="#_verify_data_plane_deployment"></a>Verify Data Plane Deployment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After creating the Data Plane, it&#8217;s crucial to verify its successful deployment. This ensures that all nodes and services are functioning correctly as expected. Here&#8217;s a step-by-step guide on how to validate your data plane deployment in RHOSP:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Check Node Status</strong></p>
<div class="literalblock">
<div class="content">
<pre>Verify that each node in the Data Plane is up and running by checking their status. Use OpenShift CLI or web console to list all nodes, ensuring none are in an 'Ready' state with an 'Available' condition.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>```bash
oc get nodes
```</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Each node should return a status similar to: `NAME STATUS ROLES AGE VERSION`</pre>
</div>
</div>
</li>
<li>
<p><strong>Inspect Pods</strong></p>
<div class="literalblock">
<div class="content">
<pre>Ensure that OpenStack related pods are running on each data plane node. List all pods across namespaces and filter for OpenStack-related pods, such as those from the `openstack` or `tripleo` projects.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>```bash
oc get pods --all-namespaces | grep openstack
```</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>All listed pods should have a 'Running' status and no errors in their descriptions.</pre>
</div>
</div>
</li>
<li>
<p><strong>Test Network Connectivity</strong></p>
<div class="literalblock">
<div class="content">
<pre>To verify network connectivity within the data plane, check pod-to-pod communication. For example, use a simple `nc` (netcat) command to test if OpenStack API services are reachable from other nodes.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>```bash
oc exec &lt;openstack_api_pod&gt; -- nc -zv &lt;target_node_ip&gt; &lt;target_port&gt;
```</pre>
</div>
</div>
</li>
<li>
<p><strong>Validate Service Health</strong></p>
<div class="literalblock">
<div class="content">
<pre>Check the health and readiness of OpenStack services running on data plane nodes. Use OpenShift's service health endpoints to ensure all critical components are responding correctly.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>For instance, check the status of the OpenStack Identity (Keystone) service:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>```bash
oc exec &lt;keystone_pod&gt; -- curl http://127.0.0.1:5000/health
```</pre>
</div>
</div>
</li>
<li>
<p><strong>Review Logs</strong></p>
<div class="literalblock">
<div class="content">
<pre>Examine container logs for any error messages or warnings that could indicate problems with the deployment. Use `oc logs` command to retrieve logs from specific pods.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>```bash
oc logs &lt;pod_name&gt;
```</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Ensure that there are no critical errors preventing services from functioning as intended.</pre>
</div>
</div>
</li>
<li>
<p><strong>Perform Functional Tests</strong></p>
<div class="literalblock">
<div class="content">
<pre>Lastly, perform functional tests to confirm that the OpenStack services are working correctly. This could include creating a project and user, listing resources, or executing API calls using OpenStack clients (e.g., `openstack` command-line client).</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>```bash
openstack project create --domain default myproject
openstack user create --project myproject --password adminpass myuser
openstack role add --project myproject --user myuser admin
```</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Upon completing these steps, you should have a good understanding of whether your Data Plane deployment in RHOSP is functioning correctly. Address any discrepancies or errors identified during verification to ensure a robust and operational environment.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="troubleshoot-the-data-plane-deployment.html">Troubleshoot the Data Plane deployment</a></span>
  <span class="next"><a href="../access-openstack/access-openstack.html">Access OpenStack</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
